/* Header Container - Positioning */
.header {
    position: fixed;
    bottom: 2rem;
    left: 0;
    right: 0;
    z-index: 1000;
    display: flex;
    justify-content: center;
    pointer-events: none;
    /* Let clicks pass through outside the nav */
    padding: 0 1rem;
}

/* Glass Dock */
.glass-nav {
    pointer-events: auto;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 0.75rem 1.5rem;
    background: var(--bg-secondary);
    /* Fallback */
    background: color-mix(in srgb, var(--bg-secondary) 20%, transparent);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--border-color);
    border-radius: 9999px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 1px var(--border-color);
    transition: all 0.3s ease;
    animation: slideUp 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-nav:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 0 0 1px var(--border-color);
    transform: translateY(-2px);
}

/* Navigation Menu */
.nav-menu {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    list-style: none;
    margin: 0;
    padding: 0;
}

/* Nav Items */
.nav-menu li a {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    color: var(--text-primary);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Remove tap highlight on mobile */
    -webkit-tap-highlight-color: transparent;
}

/* Icons */
.nav-menu li a svg {
    width: 20px;
    height: 20px;
    transition: transform 0.3s ease;
    stroke: var(--text-primary);
}

/* Hover Effects */
.nav-menu li a:hover {
    color: var(--accent-color);
    background: var(--bg-tertiary);
    box-shadow: 0 0 15px var(--accent-color-10);
}

.nav-menu li a:hover svg {
    transform: scale(1.1);
    stroke: var(--accent-color);
    filter: drop-shadow(0 0 5px var(--accent-color-20));
}

/* Active State */
.nav-menu li a.active {
    color: var(--bg-primary);
    background: var(--accent-color);
    box-shadow: 0 0 15px var(--accent-color-20);
}

.nav-menu li a.active svg {
    stroke: var(--bg-primary);
}

/* Tooltip */
.tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    background: var(--bg-tertiary);
    color: var(--text-primary);
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid var(--border-color);
    pointer-events: none;
    margin-bottom: 10px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* Show Tooltip on Hover */
.nav-menu li a:hover .tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

/* Tooltip Arrow */
.tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 5px;
    border-style: solid;
    border-color: var(--bg-tertiary) transparent transparent transparent;
}

/* Divider */
.divider {
    width: 1px;
    height: 24px;
    background: var(--border-color);
    margin: 0 0.5rem;
}

/* Actions */
.nav-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.theme-toggle,
.lang-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: 1px solid transparent;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    font-size: 0.9rem;
}

.theme-toggle svg {
    stroke: var(--text-primary);
}

.theme-toggle:hover,
.lang-toggle:hover {
    color: var(--accent-color);
    background: var(--bg-tertiary);
    border-color: var(--border-color);
}

.theme-toggle:hover svg {
    stroke: var(--accent-color);
}

/* Animation Keyframes */
@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Mobile Responsiveness */
@media (max-width: 640px) {
    .header {
        bottom: 1rem;
        padding: 0 0.5rem;
    }

    .glass-nav {
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        width: 100%;
        max-width: 400px;
        justify-content: space-between;
    }

    .nav-menu {
        gap: 0.25rem;
        width: 100%;
        justify-content: space-around;
        flex: 1;
    }

    .nav-menu li a {
        width: 40px;
        height: 40px;
    }

    .tooltip {
        display: none;
        /* Hide tooltips on mobile */
    }

    .divider {
        display: none;
    }

    .nav-actions {
        display: none;
        /* Hide standard actions, maybe need a mobile menu or just show them differently? */
    }

    /* Let's keep actions visible but maybe smaller? Or perhaps the user wants to access them.
       Since we removed the hamburger menu, we must ensure these are accessible.
       Let's bring them back for mobile, constrained. */
    .divider {
        display: block;
        margin: 0 0.25rem;
    }

    .nav-actions {
        display: flex;
        gap: 0.25rem;
    }

    .theme-toggle,
    .lang-toggle {
        width: 36px;
        height: 36px;
    }
}